<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datos Pokemonicos- By Yeegku</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://wallpapercave.com/wp/wp13395415.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #00ff41;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        header {
            background: #ff0000;
            border-bottom: 4px solid #ffffff;
            padding: 15px;
            text-align: center;
            text-shadow: 2px 2px 0px #000;
            position: relative;
            z-index: 1;
        }

        header h1 {
            font-size: 1.5rem;
            margin: 0;
            letter-spacing: 2px;
            color: #ffffff;
        }

        #search-container {
            max-width: 600px;
            margin: 20px auto;
            display: flex;
            gap: 10px;
            position: relative;
            z-index: 1;
        }

        #pokemon-input {
            flex: 1;
            padding: 10px;
            border: 3px solid #00ff41;
            border-radius: 0;
            font-size: 0.9rem;
            background: #000;
            color: #00ff41;
            font-family: 'Press Start 2P', cursive;
        }

        #pokemon-input::placeholder {
            color: rgba(0, 255, 65, 0.7);
        }

        #search-btn {
            padding: 10px 20px;
            background: #ff1493;
            border: 3px solid #00ff41;
            border-radius: 0;
            color: #fff;
            font-size: 0.9rem;
            cursor: pointer;
            font-family: 'Press Start 2P', cursive;
        }

        #search-btn:hover {
            background: #00ff41;
            color: #000;
        }

        #pokemon-info {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .pokemon-card {
            display: none;
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://www.spriters-resource.com/resources/sheets/165/168446.png?updated=1606936937') no-repeat center center;
            background-size: cover;
            image-rendering: pixelated;
            border: 4px solid #FFD700;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
            max-width: 400px;
            margin: 0 auto;
            position: relative;
        }

        .pokemon-card.active {
            display: block;
        }

        .pokemon-image {
            width: 200px;
            height: 200px;
            image-rendering: pixelated;
            margin-bottom: 15px;
            position: relative;
            z-index: 3;
        }

        .pokemon-name {
            font-size: 1.4rem;
            color: #ff1493;
            text-shadow: 1px 1px 0px #000;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px;
            border-radius: 5px;
            position: relative;
            z-index: 3;
        }

        .pokemon-types {
            font-size: 0.9rem;
            color: #ffffff;
            padding: 8px;
            border-radius: 5px;
            display: inline-block;
            width: 45%;
            text-align: left;
            background: rgba(0, 0, 0, 0.7);
            position: relative;
            z-index: 3;
        }

        .pokemon-types.light-text {
            color: #000000;
        }

        .pokemon-moves {
            font-size: 0.9rem;
            color: #ffffff;
            padding: 8px;
            border-radius: 5px;
            display: inline-block;
            width: 45%;
            text-align: left;
            vertical-align: top;
            background: rgba(0, 255, 65, 0.3);
            position: relative;
            z-index: 3;
        }

        .pokemon-moves.light-text {
            color: #000000;
        }

        #shiny-btn, #cry-btn {
            margin-top: 15px;
            margin-right: 10px;
            padding: 8px 15px;
            background: #ff1493;
            border: 2px solid #FFD700;
            color: #fff;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.8rem;
            cursor: pointer;
            border-radius: 5px;
            position: relative;
            z-index: 3;
        }

        #shiny-btn:hover, #cry-btn:hover {
            background: #00ff41;
            color: #000;
        }

        .no-results {
            text-align: center;
            color: #ff1493;
            font-size: 0.9rem;
            text-shadow: 1px 1px 0px #000;
            margin-top: 20px;
            position: relative;
            z-index: 3;
        }

        @media (max-width: 600px) {
            #search-container {
                flex-direction: column;
            }

            #pokemon-input, #search-btn {
                font-size: 0.8rem;
                padding: 8px;
            }

            .pokemon-card {
                padding: 15px;
                max-width: 300px;
            }

            .pokemon-image {
                width: 150px;
                height: 150px;
            }

            .pokemon-name {
                font-size: 1.2rem;
            }

            .pokemon-types, .pokemon-moves {
                font-size: 0.8rem;
                width: 100%;
                display: block;
            }

            #shiny-btn, #cry-btn {
                font-size: 0.7rem;
                padding: 6px 10px;
            }

            .no-results {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Datos Pokemonicos- By Yeegku</h1>
    </header>

    <div id="search-container">
        <input type="text" id="pokemon-input" placeholder="Busca un Pokémon (ej: Pikachu)">
        <button id="search-btn">Buscar</button>
    </div>

    <div id="pokemon-info">
        <div id="no-results" class="no-results" style="display: none;">No se encontró el Pokémon. Intenta con otro nombre.</div>
        <div id="pokemon-card" class="pokemon-card"></div>
    </div>

    <script>
        const API_URL = 'https://pokeapi.co/api/v2/pokemon/';
        const typeColors = {
            normal: '#A8A878',
            fire: '#F08030',
            water: '#6890F0',
            electric: '#F8D030',
            grass: '#78C850',
            ice: '#98D8D8',
            fighting: '#C03028',
            poison: '#A040A0',
            ground: '#E0C068',
            flying: '#A890F0',
            psychic: '#F85888',
            bug: '#A8B820',
            rock: '#B8A038',
            ghost: '#705898',
            dragon: '#7038F8',
            dark: '#705848',
            steel: '#B8B8D0',
            fairy: '#EE99AC'
        };
        const lightTextTypes = ['normal', 'electric', 'ice', 'ground', 'steel', 'fairy'];

        const input = document.getElementById('pokemon-input');
        const searchBtn = document.getElementById('search-btn');
        const pokemonCard = document.getElementById('pokemon-card');
        const noResults = document.getElementById('no-results');

        async function searchPokemon(query) {
            const lowerQuery = query.toLowerCase().trim();
            noResults.style.display = 'none';
            pokemonCard.style.display = 'none';
            pokemonCard.innerHTML = '';

            if (!lowerQuery) return;

            try {
                const response = await fetch(`${API_URL}${encodeURIComponent(lowerQuery)}`);
                if (!response.ok) throw new Error('Pokémon no encontrado');
                const data = await response.json();

                const pokemonName = data.name.charAt(0).toUpperCase() + data.name.slice(1);
                const normalSprite = data.sprites.front_default || 'https://via.placeholder.com/150';
                const shinySprite = data.sprites.front_shiny || normalSprite;
                const pokemonTypes = data.types.map(type => type.type.name.charAt(0).toUpperCase() + type.type.name.slice(1)).join(', ');
                const primaryType = data.types[0].type.name;
                const typeColor = typeColors[primaryType] || '#ffffff';
                const textClass = lightTextTypes.includes(primaryType) ? 'light-text' : '';
                const pokemonMoves = data.moves.slice(0, 4).map(move => move.move.name.charAt(0).toUpperCase() + move.move.name.slice(1)).join(', ') || 'No disponible';
                const pokemonCry = data.cries.latest;

                pokemonCard.innerHTML = `
                    <div class="pokemon-name">${pokemonName}</div>
                    <img src="${normalSprite}" alt="${pokemonName}" class="pokemon-image" data-normal="${normalSprite}" data-shiny="${shinySprite}">
                    <div class="pokemon-types" style="background: ${typeColor}" class="${textClass}">Tipo(s): ${pokemonTypes}</div>
                    <div class="pokemon-moves">Movimientos: ${pokemonMoves}</div>
                    <button id="shiny-btn">Toggle Shiny</button>
                    <button id="cry-btn">Play Cry</button>
                `;
                pokemonCard.classList.add('active');
                pokemonCard.style.display = 'block';

                document.getElementById('shiny-btn').addEventListener('click', () => {
                    const img = document.querySelector('.pokemon-image');
                    const isShiny = img.src === shinySprite;
                    img.src = isShiny ? normalSprite : shinySprite;
                });

                document.getElementById('cry-btn').addEventListener('click', () => {
                    const audio = new Audio(pokemonCry);
                    audio.play();
                });
            } catch (error) {
                noResults.textContent = `Error: ${error.message}`;
                noResults.style.display = 'block';
                console.error('Error fetching Pokémon:', error);
            }
        }

        searchBtn.addEventListener('click', () => searchPokemon(input.value));
        input.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchPokemon(input.value);
            }
        });

        // Demo: Cargar Pikachu al inicio
        searchPokemon('pikachu');
    </script>
</body>
</html>